{"code":"(this[\"webpackJsonpbook-list\"]=this[\"webpackJsonpbook-list\"]||[]).push([[0],{27:function(e,t,n){},48:function(e,t,n){\"use strict\";n.r(t);var o=n(1),c=n(21),r=n.n(c),a=(n(27),n(3)),s=n.n(a),u=n(5),i=n(4),l=n(12),d=n(22),b=n(7),j=n.n(b),p=\"/book\",k={getBooks:function(){return j.a.get(p)},addBook:function(e){return j.a.post(p,e)},updateBook:function(e,t){return j.a.put(\"\".concat(p,\"/\").concat(e),t)},deleteBook:function(e){return j.a.delete(\"\".concat(p,\"/\").concat(e))}},f=n(0),O={id:null,title:null,author:null,description:null},h=function(e){var t=e.setSelectedBook,n=e.currentBook,c=e.setCurrentBook,r=e.books,a=e.setBooks,b=Object(o.useState)(n.title),j=Object(i.a)(b,2),p=j[0],h=j[1],v=Object(o.useState)(n.author),x=Object(i.a)(v,2),B=x[0],m=x[1],C=Object(o.useState)(n.description),g=Object(i.a)(C,2),S=g[0],N=g[1],w=Object(o.useState)(!0),y=Object(i.a)(w,2),E=y[0],D=y[1];Object(o.useEffect)((function(){h(n.title),m(n.author),N(n.description),n.id?D(!1):D(!0)}),[n]);var L=function(){var e=Object(u.a)(s.a.mark((function e(t){var n,o,u,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={title:p,author:B,description:S},e.prev=2,e.next=5,k.addBook(n);case 5:o=e.sent,u=o.data,i=[].concat(Object(d.a)(r),[u]),a(i),c(O),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(\"Error: addBook\",e.t0);case 15:case\"end\":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(u.a)(s.a.mark((function e(t){var o,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),o=Object(l.a)(Object(l.a)({},n),{},{title:p,author:B,description:S}),e.prev=2,e.next=5,k.updateBook(n.id,o);case 5:u=r.map((function(e){return e.id===o.id?o:e})),a(u),c(O),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(\"Error: updateBook\",e.t0);case 13:case\"end\":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(u.a)(s.a.mark((function e(t){var o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,k.deleteBook(n.id);case 4:o=r.filter((function(e){return e.id!==n.id})),a(o),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(\"Error: deleteBook\",e.t0);case 11:c(O);case 12:case\"end\":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)(\"div\",{className:\"form\",children:[Object(f.jsx)(\"h3\",{children:\"Book Form: \"}),Object(f.jsxs)(\"form\",{children:[Object(f.jsx)(\"label\",{children:\"Title\"}),Object(f.jsx)(\"div\",{children:Object(f.jsx)(\"input\",{className:\"form-input\",type:\"text\",name:\"title\",value:p||\"\",onChange:function(e){h(e.target.value)}})}),Object(f.jsx)(\"label\",{children:\"Author\"}),Object(f.jsx)(\"div\",{children:Object(f.jsx)(\"input\",{className:\"form-input\",type:\"text\",name:\"author\",value:B||\"\",onChange:function(e){m(e.target.value)}})}),Object(f.jsx)(\"label\",{children:\"Description\"}),Object(f.jsx)(\"div\",{children:Object(f.jsx)(\"textarea\",{rows:\"3\",className:\"form-textarea\",name:\"description\",value:S||\"\",onChange:function(e){N(e.target.value)}})}),Object(f.jsxs)(\"div\",{className:\"form-buttons\",children:[Object(f.jsx)(\"button\",{className:\"button\",disabled:!E,onClick:L,children:\"Save New\"}),Object(f.jsx)(\"button\",{className:\"button\",disabled:E,onClick:A,children:\"Save\"}),Object(f.jsx)(\"button\",{className:\"button\",disabled:E,onClick:F,children:\"Delete\"}),Object(f.jsx)(\"button\",{className:\"button\",disabled:E,onClick:function(e){e.preventDefault(),c(O),t(null)},children:\"Clear book selection\"})]})]})]})},v=function(e){var t=e.selectedBook,n=e.setSelectedBook,o=e.book,c=e.setCurrentBook;return Object(f.jsx)(\"li\",{children:Object(f.jsx)(\"div\",{style:t===o.id?{backgroundColor:\"#99EE99\"}:{backgroundColor:\"#C7F6B6\"},className:\"list-item\",onClick:function(){n(o.id),c(o)},children:Object(f.jsxs)(\"p\",{children:[\"Title: \",o.title,\" \",Object(f.jsx)(\"br\",{}),\" Author: \",o.author]})})},o.id)},x=function(e){var t=e.selectedBook,n=e.setSelectedBook,o=e.setCurrentBook,c=e.bookList;return Object(f.jsxs)(\"div\",{className:\"list\",children:[Object(f.jsx)(\"h3\",{children:\"Book List: \"}),Object(f.jsx)(\"ul\",{children:c.map((function(e){return Object(f.jsx)(v,{selectedBook:t,setSelectedBook:n,book:e,setCurrentBook:o},e.id)}))})]})},B=function(){var e=Object(o.useState)({id:null,title:null,author:null,description:null}),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(o.useState)([]),a=Object(i.a)(r,2),l=a[0],d=a[1],b=Object(o.useState)(null),j=Object(i.a)(b,2),p=j[0],O=j[1];return Object(o.useEffect)((function(){var e=function(){var e=Object(u.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.getBooks();case 3:t=e.sent,n=t.data,d(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case\"end\":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(f.jsxs)(\"div\",{className:\"app\",children:[Object(f.jsx)(h,{setSelectedBook:O,currentBook:n,setCurrentBook:c,books:l,setBooks:d}),Object(f.jsx)(x,{selectedBook:p,setSelectedBook:O,setCurrentBook:c,bookList:l})]})};r.a.render(Object(f.jsx)(B,{}),document.getElementById(\"root\"))}},[[48,1,2]]]);","name":"static/js/main.f4439a5f.chunk.js","map":{"version":3,"sources":["static/js/main.f4439a5f.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_dom","react_dom_default","n","regenerator","regenerator_default","asyncToGenerator","slicedToArray","objectSpread2","toConsumableArray","axios","axios_default","baseUrl","services_book","getBooks","a","get","addBook","newBook","post","updateBook","id","updatedBook","put","concat","deleteBook","delete","jsx_runtime","clearedFormData","title","author","description","components_Form","_ref","setSelectedBook","currentBook","setCurrentBook","books","setBooks","_useState","Object","_useState2","setTitle","_useState3","_useState4","setAuthor","_useState5","_useState6","setDescription","_useState7","_useState8","isDisabled","setIsDisabled","submitHandler","_ref2","mark","_callee","e","_yield$bookService$ad","data","newBooks","wrap","_context","prev","next","preventDefault","sent","t0","console","log","stop","_x","apply","arguments","updateHandler","_ref3","_callee2","_context2","map","b","_x2","deleteHandler","_ref4","_callee3","_context3","filter","_x3","className","children","type","name","value","onChange","target","rows","disabled","onClick","components_ListItem","selectedBook","book","style","backgroundColor","components_List","bookList","src_App","_yield$bookService$ge","render","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpbook-list\"] = this[\"webpackJsonpbook-list\"] || []).push([[0],{\n\n/***/ 27:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 48:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(21);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(27);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(3);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(7);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./src/services/book.js\nvar baseUrl='/book';var book_getBooks=function getBooks(){return axios_default.a.get(baseUrl);};var book_addBook=function addBook(newBook){return axios_default.a.post(baseUrl,newBook);};var book_updateBook=function updateBook(id,updatedBook){return axios_default.a.put(\"\".concat(baseUrl,\"/\").concat(id),updatedBook);};var book_deleteBook=function deleteBook(id){return axios_default.a.delete(\"\".concat(baseUrl,\"/\").concat(id));};var bookService={getBooks:book_getBooks,addBook:book_addBook,updateBook:book_updateBook,deleteBook:book_deleteBook};/* harmony default export */ var services_book = (bookService);\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/Form.js\n// Reset values for the form\nvar clearedFormData={id:null,title:null,author:null,description:null};var Form_Form=function Form(_ref){var setSelectedBook=_ref.setSelectedBook,currentBook=_ref.currentBook,setCurrentBook=_ref.setCurrentBook,books=_ref.books,setBooks=_ref.setBooks;var _useState=Object(react[\"useState\"])(currentBook.title),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=Object(react[\"useState\"])(currentBook.author),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),author=_useState4[0],setAuthor=_useState4[1];var _useState5=Object(react[\"useState\"])(currentBook.description),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useState7=Object(react[\"useState\"])(true),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),isDisabled=_useState8[0],setIsDisabled=_useState8[1];Object(react[\"useEffect\"])(function(){setTitle(currentBook.title);setAuthor(currentBook.author);setDescription(currentBook.description);// Only change the buttons disabled state after a currentbook is set by user\ncurrentBook.id?setIsDisabled(false):setIsDisabled(true);},[currentBook]);var titleInputHandler=function titleInputHandler(e){setTitle(e.target.value);};var authorInputHandler=function authorInputHandler(e){setAuthor(e.target.value);};var descriptionInputHandler=function descriptionInputHandler(e){setDescription(e.target.value);};// Handles adding a new book when Save New button is clicked\nvar submitHandler=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){var newBook,_yield$bookService$ad,data,newBooks;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();// Create new book object to be sent to the server\nnewBook={title:title,author:author,description:description};_context.prev=2;_context.next=5;return services_book.addBook(newBook);case 5:_yield$bookService$ad=_context.sent;data=_yield$bookService$ad.data;newBooks=[].concat(Object(toConsumableArray[\"a\" /* default */])(books),[data]);setBooks(newBooks);// Update the book list\nsetCurrentBook(clearedFormData);// Reset the form inputs\n_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](2);console.log('Error: addBook',_context.t0);case 15:case\"end\":return _context.stop();}}},_callee,null,[[2,12]]);}));return function submitHandler(_x){return _ref2.apply(this,arguments);};}();// Handles updating a book when save button is clicked\nvar updateHandler=/*#__PURE__*/function(){var _ref3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(e){var updatedBook,newBooks;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();// Updated book object to be sent to the server\nupdatedBook=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},currentBook),{},{title:title,author:author,description:description});_context2.prev=2;_context2.next=5;return services_book.updateBook(currentBook.id,updatedBook);case 5:// Updates the book in the book list\nnewBooks=books.map(function(b){return b.id===updatedBook.id?updatedBook:b;});setBooks(newBooks);// Updates the book list if the update is successfull\nsetCurrentBook(clearedFormData);// Resets the form fields\n_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](2);console.log('Error: updateBook',_context2.t0);case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[2,10]]);}));return function updateHandler(_x2){return _ref3.apply(this,arguments);};}();// Handles deleting a book when delete button is clicked\nvar deleteHandler=/*#__PURE__*/function(){var _ref4=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(e){var newBooks;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:e.preventDefault();_context3.prev=1;_context3.next=4;return services_book.deleteBook(currentBook.id);case 4:newBooks=books.filter(function(b){return b.id!==currentBook.id;});// New books array without deleted book\nsetBooks(newBooks);// Updates the book list if the update is successfull\n_context3.next=11;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](1);console.log('Error: deleteBook',_context3.t0);case 11:setCurrentBook(clearedFormData);// Reset the form\ncase 12:case\"end\":return _context3.stop();}}},_callee3,null,[[1,8]]);}));return function deleteHandler(_x3){return _ref4.apply(this,arguments);};}();var clearSelectionHandler=function clearSelectionHandler(e){e.preventDefault();setCurrentBook(clearedFormData);// Reset the form\nsetSelectedBook(null);// Reset the selected book state\n};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Book Form: \"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Title\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-input\",type:\"text\",name:\"title\",value:title?title:'',onChange:titleInputHandler})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Author\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-input\",type:\"text\",name:\"author\",value:author?author:'',onChange:authorInputHandler})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Description\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{rows:\"3\",className:\"form-textarea\",name:\"description\",value:description?description:'',onChange:descriptionInputHandler})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-buttons\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"button\",disabled:!isDisabled,onClick:submitHandler,children:\"Save New\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"button\",disabled:isDisabled,onClick:updateHandler,children:\"Save\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"button\",disabled:isDisabled,onClick:deleteHandler,children:\"Delete\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"button\",disabled:isDisabled,onClick:clearSelectionHandler,children:\"Clear book selection\"})]})]})]});};/* harmony default export */ var components_Form = (Form_Form);\n// CONCATENATED MODULE: ./src/components/ListItem.js\nvar ListItem_ListItem=function ListItem(_ref){var selectedBook=_ref.selectedBook,setSelectedBook=_ref.setSelectedBook,book=_ref.book,setCurrentBook=_ref.setCurrentBook;// Handles clicking on a book list item\nvar clickHandler=function clickHandler(){setSelectedBook(book.id);setCurrentBook(book);};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:selectedBook===book.id?{backgroundColor:'#99EE99'}:{backgroundColor:'#C7F6B6'},className:\"list-item\",onClick:clickHandler,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"Title: \",book.title,\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\" Author: \",book.author]})})},book.id);};/* harmony default export */ var components_ListItem = (ListItem_ListItem);\n// CONCATENATED MODULE: ./src/components/List.js\nvar List_List=function List(_ref){var selectedBook=_ref.selectedBook,setSelectedBook=_ref.setSelectedBook,setCurrentBook=_ref.setCurrentBook,bookList=_ref.bookList;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"list\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Book List: \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{children:bookList.map(function(b){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ListItem,{selectedBook:selectedBook,setSelectedBook:setSelectedBook,book:b,setCurrentBook:setCurrentBook},b.id);})})]});};/* harmony default export */ var components_List = (List_List);\n// CONCATENATED MODULE: ./src/App.js\nvar App_App=function App(){var _useState=Object(react[\"useState\"])({id:null,title:null,author:null,description:null}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),currentBook=_useState2[0],setCurrentBook=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),books=_useState4[0],setBooks=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),selectedBook=_useState6[0],setSelectedBook=_useState6[1];//Fetch books from the server on first render only\nObject(react[\"useEffect\"])(function(){var getBooks=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var _yield$bookService$ge,data;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return services_book.getBooks();case 3:_yield$bookService$ge=_context.sent;data=_yield$bookService$ge.data;setBooks(data);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function getBooks(){return _ref.apply(this,arguments);};}();getBooks();},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"app\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Form,{setSelectedBook:setSelectedBook,currentBook:currentBook,setCurrentBook:setCurrentBook,books:books,setBooks:setBooks}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_List,{selectedBook:selectedBook,setSelectedBook:setSelectedBook,setCurrentBook:setCurrentBook,bookList:books})]});};/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{}),document.getElementById('root'));\n\n/***/ })\n\n},[[48,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\meeve\\OneDrive\\Desktop\\Assignment\\Client\\book-list\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\meeve\\OneDrive\\Desktop\\Assignment\\Client\\book-list\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\meeve\\OneDrive\\Desktop\\Assignment\\Client\\book-list\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\meeve\\OneDrive\\Desktop\\Assignment\\Client\\book-list\\src\\index.css","C:/Users/meeve/OneDrive/Desktop/Assignment/Client/book-list/src/services/book.js","C:/Users/meeve/OneDrive/Desktop/Assignment/Client/book-list/src/components/Form.js","C:/Users/meeve/OneDrive/Desktop/Assignment/Client/book-list/src/components/ListItem.js","C:/Users/meeve/OneDrive/Desktop/Assignment/Client/book-list/src/components/List.js","C:/Users/meeve/OneDrive/Desktop/Assignment/Client/book-list/src/App.js","C:/Users/meeve/OneDrive/Desktop/Assignment/Client/book-list/src/index.js"],"names":["baseUrl","getBooks","axios","get","addBook","newBook","post","updateBook","id","updatedBook","put","deleteBook","delete","bookService","clearedFormData","title","author","description","Form","setSelectedBook","currentBook","setCurrentBook","books","setBooks","useState","setTitle","setAuthor","setDescription","isDisabled","setIsDisabled","useEffect","titleInputHandler","e","target","value","authorInputHandler","descriptionInputHandler","submitHandler","preventDefault","data","newBooks","console","log","updateHandler","map","b","deleteHandler","filter","clearSelectionHandler","ListItem","selectedBook","book","clickHandler","backgroundColor","List","bookList","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","import axios from \"axios\";\r\n\r\nconst baseUrl = '/book'\r\n\r\nconst getBooks = () => {\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst addBook = (newBook) => {\r\n    return axios.post(baseUrl, newBook)\r\n}\r\n\r\nconst updateBook = (id, updatedBook) => {\r\n    return axios.put(`${baseUrl}/${id}`, updatedBook)\r\n}\r\n\r\nconst deleteBook = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst bookService = {\r\n    getBooks,\r\n    addBook,\r\n    updateBook,\r\n    deleteBook\r\n}\r\n\r\nexport default bookService","import React, { useState, useEffect } from 'react'\r\n\r\nimport bookService from '../services/book'\r\n\r\n// Reset values for the form\r\nconst clearedFormData = {\r\n    id: null,\r\n    title: null,\r\n    author: null,\r\n    description: null,\r\n}\r\n\r\nconst Form = ({\r\n    setSelectedBook,\r\n    currentBook,\r\n    setCurrentBook,\r\n    books,\r\n    setBooks,\r\n}) => {\r\n    const [title, setTitle] = useState(currentBook.title)\r\n    const [author, setAuthor] = useState(currentBook.author)\r\n    const [description, setDescription] = useState(currentBook.description)\r\n    const [isDisabled, setIsDisabled] = useState(true)\r\n\r\n    useEffect(() => {\r\n        setTitle(currentBook.title)\r\n        setAuthor(currentBook.author)\r\n        setDescription(currentBook.description)\r\n\r\n        // Only change the buttons disabled state after a currentbook is set by user\r\n        currentBook.id ? setIsDisabled(false) : setIsDisabled(true)\r\n    }, [currentBook])\r\n\r\n    const titleInputHandler = (e) => {\r\n        setTitle(e.target.value)\r\n    }\r\n\r\n    const authorInputHandler = (e) => {\r\n        setAuthor(e.target.value)\r\n    }\r\n\r\n    const descriptionInputHandler = (e) => {\r\n        setDescription(e.target.value)\r\n    }\r\n\r\n    // Handles adding a new book when Save New button is clicked\r\n    const submitHandler = async (e) => {\r\n        e.preventDefault()\r\n\r\n        // Create new book object to be sent to the server\r\n        const newBook = {\r\n            title: title,\r\n            author: author,\r\n            description: description,\r\n        }\r\n        try {\r\n            const { data } = await bookService.addBook(newBook)\r\n            const newBooks = [...books, data]\r\n            setBooks(newBooks) // Update the book list\r\n            setCurrentBook(clearedFormData) // Reset the form inputs\r\n        } catch (error) {\r\n            console.log('Error: addBook', error)\r\n        }\r\n    }\r\n\r\n    // Handles updating a book when save button is clicked\r\n    const updateHandler = async (e) => {\r\n        e.preventDefault()\r\n\r\n        // Updated book object to be sent to the server\r\n        const updatedBook = {\r\n            ...currentBook,\r\n            title: title,\r\n            author: author,\r\n            description: description,\r\n        }\r\n        try {\r\n            await bookService.updateBook(currentBook.id, updatedBook)\r\n\r\n            // Updates the book in the book list\r\n            const newBooks = books.map((b) =>\r\n                b.id === updatedBook.id ? updatedBook : b\r\n            )\r\n\r\n            setBooks(newBooks) // Updates the book list if the update is successfull\r\n            setCurrentBook(clearedFormData) // Resets the form fields\r\n        } catch (error) {\r\n            console.log('Error: updateBook', error)\r\n        }\r\n    }\r\n\r\n    // Handles deleting a book when delete button is clicked\r\n    const deleteHandler = async (e) => {\r\n        e.preventDefault()\r\n        try {\r\n            await bookService.deleteBook(currentBook.id)\r\n\r\n            const newBooks = books.filter((b) => b.id !== currentBook.id) // New books array without deleted book\r\n            setBooks(newBooks) // Updates the book list if the update is successfull\r\n        } catch (error) {\r\n            console.log('Error: deleteBook', error)\r\n        }\r\n        \r\n        setCurrentBook(clearedFormData) // Reset the form\r\n    }\r\n\r\n    const clearSelectionHandler = (e) => {\r\n        e.preventDefault()\r\n        setCurrentBook(clearedFormData) // Reset the form\r\n        setSelectedBook(null) // Reset the selected book state\r\n    }\r\n\r\n    return (\r\n        <div className=\"form\">\r\n            <h3>Book Form: </h3>\r\n            <form>\r\n                <label>Title</label>\r\n                <div>\r\n                    <input\r\n                        className=\"form-input\"\r\n                        type=\"text\"\r\n                        name=\"title\"\r\n                        value={title ? title : ''}\r\n                        onChange={titleInputHandler}\r\n                    />\r\n                </div>\r\n                <label>Author</label>\r\n                <div>\r\n                    <input\r\n                        className=\"form-input\"\r\n                        type=\"text\"\r\n                        name=\"author\"\r\n                        value={author ? author : ''}\r\n                        onChange={authorInputHandler}\r\n                    />\r\n                </div>\r\n                <label>Description</label>\r\n                <div>\r\n                    <textarea\r\n                        rows=\"3\"\r\n                        className=\"form-textarea\"\r\n                        name=\"description\"\r\n                        value={description ? description : ''}\r\n                        onChange={descriptionInputHandler}\r\n                    />\r\n                </div>\r\n                <div className=\"form-buttons\">\r\n                    <button\r\n                        className=\"button\"\r\n                        disabled={!isDisabled}\r\n                        onClick={submitHandler}\r\n                    >\r\n                        Save New\r\n                    </button>\r\n                    <button\r\n                        className=\"button\"\r\n                        disabled={isDisabled}\r\n                        onClick={updateHandler}\r\n                    >\r\n                        Save\r\n                    </button>\r\n                    <button\r\n                        className=\"button\"\r\n                        disabled={isDisabled}\r\n                        onClick={deleteHandler}\r\n                    >\r\n                        Delete\r\n                    </button>\r\n                    <button\r\n                        className=\"button\"\r\n                        disabled={isDisabled}\r\n                        onClick={clearSelectionHandler}\r\n                    >\r\n                        Clear book selection\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Form\r\n","import React from 'react'\r\n\r\nconst ListItem = ({ selectedBook, setSelectedBook, book, setCurrentBook }) => {\r\n\r\n    // Handles clicking on a book list item\r\n    const clickHandler = () => {\r\n        setSelectedBook(book.id)\r\n        setCurrentBook(book)\r\n    }\r\n\r\n    return (\r\n        <li key={book.id}>\r\n            <div\r\n                style={\r\n                    selectedBook === book.id\r\n                        ? { backgroundColor: '#99EE99' }\r\n                        : { backgroundColor: '#C7F6B6' }\r\n                }\r\n                className=\"list-item\"\r\n                onClick={clickHandler}\r\n            >\r\n                <p>\r\n                    Title: {book.title} <br></br> Author: {book.author}\r\n                </p>\r\n            </div>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default ListItem\r\n","import React from 'react'\r\n\r\nimport ListItem from './ListItem'\r\n\r\nconst List = ({ selectedBook, setSelectedBook, setCurrentBook, bookList }) => {\r\n    return (\r\n        <div className=\"list\">\r\n            <h3>Book List: </h3>\r\n            <ul>\r\n                {bookList.map((b) => (\r\n                    <ListItem\r\n                        key={b.id}\r\n                        selectedBook={selectedBook}\r\n                        setSelectedBook={setSelectedBook}\r\n                        book={b}\r\n                        setCurrentBook={setCurrentBook}\r\n                    />\r\n                ))}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default List\r\n","import React, { useState, useEffect } from 'react'\n\nimport Form from './components/Form'\nimport List from './components/List'\nimport bookService from './services/book'\n\nconst App = () => {\n    const [currentBook, setCurrentBook] = useState({\n        id: null,\n        title: null,\n        author: null,\n        description: null,\n    })\n    const [books, setBooks] = useState([])\n    const [selectedBook, setSelectedBook] = useState(null)\n\n    //Fetch books from the server on first render only\n    useEffect(() => {\n        const getBooks = async () => {\n            try {\n                const { data } = await bookService.getBooks()\n                setBooks(data)\n            } catch (error) {\n                console.log(error)\n            }\n        }\n        getBooks()\n    }, [])\n\n    return (\n        <div className=\"app\">\n            <Form\n                setSelectedBook={setSelectedBook}\n                currentBook={currentBook}\n                setCurrentBook={setCurrentBook}\n                books={books}\n                setBooks={setBooks}\n            />\n            <List\n                selectedBook={selectedBook}\n                setSelectedBook={setSelectedBook}\n                setCurrentBook={setCurrentBook}\n                bookList={books}\n            />\n        </div>\n    )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"]}}