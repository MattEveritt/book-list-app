(this["webpackJsonpbook-list"]=this["webpackJsonpbook-list"]||[]).push([[0],{27:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var o=n(1),c=n(21),r=n.n(c),a=(n(27),n(3)),s=n.n(a),u=n(5),i=n(4),l=n(12),d=n(22),b=n(7),j=n.n(b),p="/book",k={getBooks:function(){return j.a.get(p)},addBook:function(e){return j.a.post(p,e)},updateBook:function(e,t){return j.a.put("".concat(p,"/").concat(e),t)},deleteBook:function(e){return j.a.delete("".concat(p,"/").concat(e))}},f=n(0),O={id:null,title:null,author:null,description:null},h=function(e){var t=e.setSelectedBook,n=e.currentBook,c=e.setCurrentBook,r=e.books,a=e.setBooks,b=Object(o.useState)(n.title),j=Object(i.a)(b,2),p=j[0],h=j[1],v=Object(o.useState)(n.author),x=Object(i.a)(v,2),B=x[0],m=x[1],C=Object(o.useState)(n.description),g=Object(i.a)(C,2),S=g[0],N=g[1],w=Object(o.useState)(!0),y=Object(i.a)(w,2),E=y[0],D=y[1];Object(o.useEffect)((function(){h(n.title),m(n.author),N(n.description),n.id?D(!1):D(!0)}),[n]);var L=function(){var e=Object(u.a)(s.a.mark((function e(t){var n,o,u,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={title:p,author:B,description:S},e.prev=2,e.next=5,k.addBook(n);case 5:o=e.sent,u=o.data,i=[].concat(Object(d.a)(r),[u]),a(i),c(O),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log("Error: addBook",e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(u.a)(s.a.mark((function e(t){var o,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),o=Object(l.a)(Object(l.a)({},n),{},{title:p,author:B,description:S}),e.prev=2,e.next=5,k.updateBook(n.id,o);case 5:u=r.map((function(e){return e.id===o.id?o:e})),a(u),c(O),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("Error: updateBook",e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(u.a)(s.a.mark((function e(t){var o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,k.deleteBook(n.id);case 4:o=r.filter((function(e){return e.id!==n.id})),a(o),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Error: deleteBook",e.t0);case 11:c(O);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"form",children:[Object(f.jsx)("h3",{children:"Book Form: "}),Object(f.jsxs)("form",{children:[Object(f.jsx)("label",{children:"Title"}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{className:"form-input",type:"text",name:"title",value:p||"",onChange:function(e){h(e.target.value)}})}),Object(f.jsx)("label",{children:"Author"}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{className:"form-input",type:"text",name:"author",value:B||"",onChange:function(e){m(e.target.value)}})}),Object(f.jsx)("label",{children:"Description"}),Object(f.jsx)("div",{children:Object(f.jsx)("textarea",{rows:"3",className:"form-textarea",name:"description",value:S||"",onChange:function(e){N(e.target.value)}})}),Object(f.jsxs)("div",{className:"form-buttons",children:[Object(f.jsx)("button",{className:"button",disabled:!E,onClick:L,children:"Save New"}),Object(f.jsx)("button",{className:"button",disabled:E,onClick:A,children:"Save"}),Object(f.jsx)("button",{className:"button",disabled:E,onClick:F,children:"Delete"}),Object(f.jsx)("button",{className:"button",disabled:E,onClick:function(e){e.preventDefault(),c(O),t(null)},children:"Clear book selection"})]})]})]})},v=function(e){var t=e.selectedBook,n=e.setSelectedBook,o=e.book,c=e.setCurrentBook;return Object(f.jsx)("li",{children:Object(f.jsx)("div",{style:t===o.id?{backgroundColor:"#99EE99"}:{backgroundColor:"#C7F6B6"},className:"list-item",onClick:function(){n(o.id),c(o)},children:Object(f.jsxs)("p",{children:["Title: ",o.title," ",Object(f.jsx)("br",{})," Author: ",o.author]})})},o.id)},x=function(e){var t=e.selectedBook,n=e.setSelectedBook,o=e.setCurrentBook,c=e.bookList;return Object(f.jsxs)("div",{className:"list",children:[Object(f.jsx)("h3",{children:"Book List: "}),Object(f.jsx)("ul",{children:c.map((function(e){return Object(f.jsx)(v,{selectedBook:t,setSelectedBook:n,book:e,setCurrentBook:o},e.id)}))})]})},B=function(){var e=Object(o.useState)({id:null,title:null,author:null,description:null}),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(o.useState)([]),a=Object(i.a)(r,2),l=a[0],d=a[1],b=Object(o.useState)(null),j=Object(i.a)(b,2),p=j[0],O=j[1];return Object(o.useEffect)((function(){var e=function(){var e=Object(u.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.getBooks();case 3:t=e.sent,n=t.data,d(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(f.jsxs)("div",{className:"app",children:[Object(f.jsx)(h,{setSelectedBook:O,currentBook:n,setCurrentBook:c,books:l,setBooks:d}),Object(f.jsx)(x,{selectedBook:p,setSelectedBook:O,setCurrentBook:c,bookList:l})]})};r.a.render(Object(f.jsx)(B,{}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.f4439a5f.chunk.js.map